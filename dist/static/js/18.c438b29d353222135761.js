webpackJsonp([18],{HubV:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("zGcv"),r=function(t){return n.a.post("/api/logs",t)},o=a("OeEZ"),l={data:function(){var t=[{value:0,text:"全部"}];o.a.websitestatus.forEach(function(e){t.push(e)});return{loading:!1,status:t,search:{name:"",status:0},total:0,rows:[]}},created:function(){this.onSearch()},methods:{getStatusName:function(t){var e="";return o.a.websitestatus.forEach(function(a){a.value===t&&(e=a.text)}),e},onSearch:function(){var t=this;t.loading=!0,r(t.search).then(function(e){t.loading=!1;var a=e.data;a&&"200"===a.code?(t.total=a.data.total||0,t.rows=a.data.rows||[]):t.$notify({title:"系统提示",message:"获取日志列表失败",type:"warning",position:"bottom-right"})})},onEdit:function(t){this.$router.push({path:"/console/log/edit",query:{id:t.id}})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("el-row",[a("el-form",{attrs:{inline:!0,model:t.search,size:"mini"}},[a("el-form-item",{attrs:{label:"网站名称"}},[a("el-input",{attrs:{placeholder:"网站名称"},model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"网站状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.search.status,callback:function(e){t.$set(t.search,"status",e)},expression:"search.status"}},t._l(t.status,function(t){return a("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})}))],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSearch}},[t._v("查询")])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{border:"",stripe:"",data:t.rows,"default-sort":{prop:"name",order:"ascending"}}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{"header-align":"center",label:"标题",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"hover",placement:"bottom-start",width:"300"}},[a("p",[t._v(t._s(e.row.text))]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("span",[t._v(t._s(e.row.title))])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{"header-align":"center",label:"IP"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.ip))])]}}])}),t._v(" "),a("el-table-column",{attrs:{"header-align":"center",label:"创建时间",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.created))])]}}])}),t._v(" "),a("el-table-column",{attrs:{"header-align":"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"button",size:"mini",title:"编辑"},on:{click:function(a){t.onEdit(e.row)}}},[a("i",{staticClass:"iconfont icon-icon07"}),t._v(" 编辑\n        ")])]}}])})],1),t._v(" "),a("u-pagination",{attrs:{rows:t.rows,total:t.total}})],1)},staticRenderFns:[]},i=a("VU/8")(l,s,!1,null,null,null);e.default=i.exports}});
//# sourceMappingURL=18.c438b29d353222135761.js.map