webpackJsonp([3],{DCDE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("zGcv"),r=(a("IcnI"),function(e){return n.a.post("/api/websites",e)}),l=a("OeEZ"),s={data:function(){var e=[{value:0,text:"全部"}];l.a.websitestatus.forEach(function(t){e.push(t)});return{loading:!1,status:e,search:{name:"",status:0},total:0,rows:[]}},created:function(){this.onSearch()},methods:{getStatusName:function(e){var t="";return l.a.websitestatus.forEach(function(a){a.value===e&&(t=a.text)}),t},onSearch:function(){var e=this;e.loading=!0,r(e.search).then(function(t){e.loading=!1;var a=t.data;a&&"200"===a.code?(e.total=a.total,e.rows=a.rows):e.$notify({title:"系统提示",message:"获取网站列表失败",type:"warning",position:"bottom-right"})})},onEdit:function(e){this.$router.push({path:"/console/website/edit",query:{id:e.id}})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-row",[a("el-form",{attrs:{inline:!0,model:e.search,size:"mini"}},[a("el-form-item",{attrs:{label:"网站名称"}},[a("el-input",{attrs:{placeholder:"网站名称"},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网站状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.status,callback:function(t){e.$set(e.search,"status",t)},expression:"search.status"}},e._l(e.status,function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",stripe:"",data:e.rows,"default-sort":{prop:"name",order:"ascending"}}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",label:"名称",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"bottom-start",width:"300"}},[a("p",[e._v(e._s(t.row.summary))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("a",{on:{href:t.row.url}},[a("span",[e._v(e._s(t.row.name))])])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",label:"地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{on:{href:t.row.url}},[a("span",[e._v(e._s(t.row.url))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",label:"创建时间",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.created))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.getStatusName(t.row.status)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"button",size:"mini",title:"编辑"},on:{click:function(a){e.onEdit(t.row)}}},[a("i",{staticClass:"iconfont icon-icon07"}),e._v(" 编辑\n                ")])]}}])})],1),e._v(" "),a("u-pagination",{attrs:{rows:e.rows,total:e.total}})],1)},staticRenderFns:[]},i=a("VU/8")(s,o,!1,null,null,null);t.default=i.exports},OeEZ:function(e,t,a){"use strict";t.a={sex:[{value:0,text:"未知"},{value:1,text:"男"},{value:2,text:"女"}],websitestatus:[{value:1,text:"正常"},{value:2,text:"停用"},{value:3,text:"维护"}]}}});
//# sourceMappingURL=3.af25006222237376b8d0.js.map